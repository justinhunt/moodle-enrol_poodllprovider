define ("enrol_poodllprovider/provider",["jquery","jqueryui","core/str","core/ajax","core/templates","core/custom_interaction_events","core/notification","core/modal_factory","core/modal_events","core/yui","enrol_poodllprovider/mform"],function(a,b,c,d,e,f,g,h,i,j,k){var l={MENU_COLLAPSE:"[data-action=\"collapse\"]",RETURN_MAIN_MENU:"[data-action=\"main-menu\"]",ACTIVITY_SELECT:"[data-action=\"activity-select\"]",ACTIVITY_EDIT:"[data-action=\"activity-edit\"]",ACTIVITY_DELETE:"[data-action=\"activity-delete\"]",ACTIVITY_ADD:"[data-action=activity-add]"},m=function(a,b,c,d,e){var f=new k({contextid:b,itemnumber:c,module:d,cmid:e,triggerElement:a});return f},n=function(b){f.define(b,[f.events.activate]);b.on(f.events.activate,l.MENU_COLLAPSE,function(b,c){c.originalEvent.preventDefault();var d=a(this).data("module");a("#collapse-"+d).collapse("toggle");a("#top-menu").hide()});b.on(f.events.activate,l.RETURN_MAIN_MENU,function(b,c){c.originalEvent.preventDefault();var d=a(this).data("module");a("#collapse-"+d).collapse("toggle");a("#top-menu").show()});b.on(f.events.activate,l.ACTIVITY_EDIT,function(b,c){c.originalEvent.preventDefault();var d=a(this).data("module"),e=a(this).data("contextid"),f=a(this).data("itemnumber"),g=a(this).data("cmid"),h=a(b.currentTarget);m(h,e,f,d,g)});b.on(f.events.activate,l.ACTIVITY_DELETE,function(b,e){e.originalEvent.preventDefault();var f=a(this).data("cmid"),g=a(this).data("itemnumber");c.get_strings([{key:"delete",component:"enrol_poodllprovider"},{key:"deleteconfirm",component:"enrol_poodllprovider"}]).then(function(b){h.create({type:h.types.SAVE_CANCEL,title:b[0],body:b[1]}).then(function(c){c.setSaveButtonText(b[0]);var e=c.getRoot();e.on(i.save,function(){d.call([{methodname:"enrol_poodllprovider_delete_modules",args:{cmids:[f]}}])[0].then(function(){a("div[data-toolid='"+g+"']").remove()})});c.show()})})});b.on(f.events.activate,l.ACTIVITY_SELECT,function(b,c){c.originalEvent.preventDefault();var d=a(this).data("itemnumber");document.getElementById("poodllprovider_item_"+d).submit()});b.on(f.events.activate,l.ACTIVITY_ADD,function(b,c){c.originalEvent.preventDefault();var d=a(this).data("module"),e=a(this).data("contextid"),f=a(this).data("itemnumber"),g=a(b.currentTarget);m(g,e,f,d,0)})};return{init:function init(b){b=a(b);if(!b.attr("data-init")){n(b);b.attr("data-init",!0)}}}});
//# sourceMappingURL=provider.min.js.map
